{"version":3,"sources":["webpack:///./src/components/FractionComponent.vue?efe8","webpack:///./src/components/OperatorComponent.vue?4637","webpack:///./src/views/Calc.vue?a6e1","webpack:///./src/factories/Fraction.js","webpack:///./src/factories/Operator.js","webpack:///./src/components/FractionComponent.vue?a06d","webpack:///src/components/FractionComponent.vue","webpack:///./src/components/FractionComponent.vue?e2aa","webpack:///./src/components/FractionComponent.vue","webpack:///./src/components/OperatorComponent.vue?82a0","webpack:///src/components/OperatorComponent.vue","webpack:///./src/components/OperatorComponent.vue?c058","webpack:///./src/components/OperatorComponent.vue","webpack:///src/views/Calc.vue","webpack:///./src/views/Calc.vue?276c","webpack:///./src/views/Calc.vue","webpack:///./src/views/Calc.vue?42c9"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_l","item","key","id","Fraction","isFraction","attrs","on","onFractionInput","_e","Operator","isOperator","OPERATOR_TYPES","$event","onOperatorInput","staticStyle","_v","result","addFraction","staticRenderFns","numerator","denominator","_id","_numerator","_denominator","errors","pattern","object","__proto__","constructor","val","isNotEmpty","test","isNaN","numericNumerator","numericDenominator","Number","MAX_SAFE_INTEGER","MIN_SAFE_INTEGER","clearErrors","validateInput","push","isValidNumericValue","checkErrors","i","type","_type","order","ORDERS","OPERATORS","MINUS","PLUS","MULTIPLY","DIVIDE","TYPES","Object","values","_g","props","readonly","domProps","fraction","assign","listeners","input","bind","error","_s","name","functional","component","operator","components","OperatorComponent","FractionComponent","fractions","operators","computed","forEach","arr","length","every","validate","finished","members","expressionMembers","index","prototype","hasOwnProperty","call","calculate","splice","gcd","methods","first","second","add","subtract","divide","multiply","_first","_second","a","b","Math","abs","temp","field","event","$set","target","value"],"mappings":"wGAAA,yBAAgf,EAAG,G,oCCAnf,yBAAgf,EAAG,G,2CCAnf,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACN,EAAIO,GAAIP,EAAqB,mBAAE,SAASQ,GAAM,OAAOJ,EAAG,MAAM,CAACK,IAAID,EAAKE,GAAGJ,YAAY,cAAc,CAAEN,EAAIW,SAASC,WAAWJ,GAAOJ,EAAG,oBAAoB,CAACS,MAAM,CAAC,SAAWL,GAAMM,GAAG,CAAC,MAAQd,EAAIe,mBAAmBf,EAAIgB,KAAMhB,EAAIiB,SAASC,WAAWV,GAAOJ,EAAG,oBAAoB,CAACS,MAAM,CAAC,SAAWL,EAAK,iBAAiBR,EAAImB,gBAAgBL,GAAG,CAAC,MAAQ,SAASM,GAAQ,OAAOpB,EAAIqB,gBAAgBb,EAAMY,OAAYpB,EAAIgB,MAAM,MAAKZ,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,MAAM,CAACkB,YAAY,CAAC,QAAU,OAAO,cAAc,WAAW,CAAClB,EAAG,MAAM,CAACkB,YAAY,CAAC,gBAAgB,SAAS,CAACtB,EAAIuB,GAAG,SAASnB,EAAG,MAAM,CAACA,EAAG,oBAAoB,CAACS,MAAM,CAAC,SAAWb,EAAIwB,OAAO,SAAW,OAAO,QAAQ,GAAGpB,EAAG,SAAS,CAACU,GAAG,CAAC,MAAQd,EAAIyB,cAAc,CAACzB,EAAIuB,GAAG,qBAC32BG,EAAkB,GCDf,MAAMf,EACX,YAAYgB,EAAY,KAAMC,EAAc,MAC1C3B,KAAKS,GAAKC,EAASkB,MACnB5B,KAAK6B,WAAaH,EAClB1B,KAAK8B,aAAeH,EACpB3B,KAAK+B,OAAS,GACd/B,KAAKgC,QAAU,aAGjB,kBAAkBC,GAChB,OAAOA,EAAOC,UAAUC,cAAgBzB,EAG1C,gBACE,OAAwB,OAApBV,KAAK6B,YAA2C,KAApB7B,KAAK6B,WAA0B,GAGxD7B,KAAK6B,WAGd,uBACE,OAAQ7B,KAAK6B,WAGf,cAAcO,GACZpC,KAAK6B,WAAaO,EAGpB,kBACE,OAA0B,OAAtBpC,KAAK8B,cAA+C,KAAtB9B,KAAK8B,aAA4B,GAG5D9B,KAAK8B,aAGd,yBACE,OAAQ9B,KAAK8B,aAGf,gBAAgBM,GACdpC,KAAK8B,aAAeM,EAGtB,aACE,SAAUpC,KAAK6B,aAAc7B,KAAK8B,cAGpC,gBACE,OACE9B,KAAKqC,iBAEFrC,KAAKgC,QAAQM,KAAKtC,KAAK6B,cACvB7B,KAAKgC,QAAQM,KAAKtC,KAAK8B,eAK9B,sBACE,OACGS,MAAMvC,KAAKwC,oBACXD,MAAMvC,KAAKyC,uBAEVzC,KAAKwC,iBAAmBE,OAAOC,kBAC/B3C,KAAKyC,mBAAqBC,OAAOC,kBACjC3C,KAAKwC,iBAAmBE,OAAOE,kBAC/B5C,KAAKyC,mBAAqBC,OAAOE,kBAKvC,cAEE,OADA5C,KAAK6C,cACD7C,KAAKqC,eAAiBrC,KAAK8C,iBAC7B9C,KAAK+B,OAAOgB,KACV,mEAEK,KAEJ/C,KAAKgD,wBACRhD,KAAK+B,OAAOgB,KACV,iEAAiEL,OAAOE,sBAAsBF,OAAOC,sBAEhG,GAKX,cACE3C,KAAK+B,OAAS,GAGhB,WACE,OACE/B,KAAK8C,iBAAmB9C,KAAKgD,uBAAyBhD,KAAKiD,eAKjE,IAAIC,EAAI,EACRxC,EAASkB,IAAM,IAAMsB,ICnGd,MAAMlC,EACX,YAAYmC,EAAO,IACjBnD,KAAKS,GAAKO,EAASY,MACnB5B,KAAKoD,MAAQD,EACbnD,KAAKqD,MAAQrC,EAASsC,OAAOH,GAG/B,kBAAkBlB,GAChB,OAAOA,EAAOC,UAAUC,cAAgBnB,EAG1C,WACE,OAAOhB,KAAKoD,MAGd,SAAShB,GACPpC,KAAKoD,MAAQhB,EACbpC,KAAKqD,MAAQrC,EAASsC,OAAOlB,IAIjC,IAAI,GAAK,EACTpB,EAASY,IAAM,IAAM,IAErB,MAAM2B,EAAY,CAChBC,MAAO,IACPC,KAAM,IACNC,SAAU,IACVC,OAAQ,KAEJL,EAAS,CACb,CAACC,EAAUC,OAAQ,EACnB,CAACD,EAAUE,MAAO,EAClB,CAACF,EAAUG,UAAW,EACtB,CAACH,EAAUI,QAAS,GAEtB3C,EAAS4C,MAAQC,OAAOC,OAAOP,GAC/BvC,EAASuC,UAAYA,EACrBvC,EAASsC,OAASA,ECtClB,IAAI,EAAS,SAAUrD,EAAGF,GAAM,IAAII,EAAGJ,EAAII,GAAG,OAAOA,EAAG,MAAM,CAACE,YAAY,qBAAqB,CAACF,EAAG,MAAM,CAACA,EAAG,QAAQJ,EAAIgE,GAAG,CAACnD,MAAM,CAAC,SAAWb,EAAIiE,MAAMC,SAAS,KAAO,UAAUC,SAAS,CAAC,MAAQnE,EAAIiE,MAAMG,SAASzC,YAAYmC,OAAOO,OAAO,GAAIrE,EAAIsE,UACnP,CAACC,MAAOvE,EAAIsE,UAAUC,MAClBvE,EAAIsE,UAAUC,MAAMC,KAAKvE,KAAMD,EAAIiE,MAAMG,SAAU,aACnD,mBAAqBhE,EAAG,MAAMA,EAAG,MAAM,CAACA,EAAG,QAAQJ,EAAIgE,GAAG,CAACnD,MAAM,CAAC,SAAWb,EAAIiE,MAAMC,SAAS,KAAO,UAAUC,SAAS,CAAC,MAAQnE,EAAIiE,MAAMG,SAASxC,cAAckC,OAAOO,OAAO,GAAIrE,EAAIsE,UAC9L,CAACC,MAAOvE,EAAIsE,UAAUC,MAClBvE,EAAIsE,UAAUC,MAAMC,KAAKvE,KAAMD,EAAIiE,MAAMG,SAAU,eACnD,mBAAqBhE,EAAG,MAAMJ,EAAIO,GAAIP,EAAIiE,MAAMG,SAAe,QAAE,SAASK,GAAO,OAAOrE,EAAG,MAAM,CAACK,IAAIgE,EAAMnD,YAAY,CAAC,MAAQ,MAAM,YAAY,UAAU,CAACtB,EAAIuB,GAAG,IAAIvB,EAAI0E,GAAGD,GAAO,UAAS,MACxM,EAAkB,GCmCP,GACbE,KAAM,oBACNC,YAAY,GC5C4L,I,wBCQtMC,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,WACA,MAIa,EAAAA,E,QCnBX,EAAS,SAAU3E,EAAGF,GAAM,IAAII,EAAGJ,EAAII,GAAG,OAAOA,EAAG,MAAM,CAACA,EAAG,SAASJ,EAAIgE,GAAG,CAACG,SAAS,CAAC,MAAQnE,EAAIiE,MAAMa,SAAS1B,OAAOpD,EAAIsE,WAAW,CAAClE,EAAG,SAAS,CAACS,MAAM,CAAC,MAAQ,KAAK,CAACb,EAAIuB,GAAG,uBAAuBvB,EAAIO,GAAIP,EAAIiE,MAAmB,eAAE,SAASa,GAAU,OAAO1E,EAAG,SAAS,CAACK,IAAIqE,EAASX,SAAS,CAAC,MAAQW,IAAW,CAAC9E,EAAIuB,GAAGvB,EAAI0E,GAAGI,UAAgB,MAC5V,EAAkB,GCcP,GACbH,KAAM,oBACNC,YAAY,GCjB4L,ICQtM,G,UAAY,eACd,EACA,EACA,GACA,EACA,KACA,WACA,OAIa,I,QCkBA,GACbD,KAAM,OACNI,WAAY,CAAEC,oBAAmBC,qBACjC,OACE,MAAO,CACLC,UAAW,CAAC,IAAIvE,EAAY,IAAIA,GAChCwE,UAAW,CAAC,IAAIlE,EAASA,EAASuC,UAAUG,WAC5CxC,eAAgBF,EAAS4C,MACzBlD,WACAM,aAGJmE,SAAU,CACR,oBACE,MAAM5D,EAAS,GAOf,OANAvB,KAAKiF,UAAUG,QAAQ,CAAChD,EAAKc,EAAGmC,KAC9B9D,EAAOwB,KAAKX,GACRiD,EAAIC,OAAS,IAAMpC,GACrB3B,EAAOwB,KAAK/C,KAAKkF,UAAUhC,MAGxB3B,GAET,SACE,GACEvB,KAAKiF,UAAUM,MAAMnD,GAAOA,EAAIoD,aAChCxF,KAAKkF,UAAUK,MAAM,EAAGpC,UAAWA,GACnC,CACA,IAAIsC,GAAW,EACf,MAAMC,EAAU,IAAI1F,KAAK2F,mBACzB,OAAQF,EAAU,CAChB,IAAIpC,EAAQ,KACRuC,EAAQ,KAcZ,GAbAF,EAAQN,QAAQ,CAAChD,EAAKc,KAChBW,OAAOgC,UAAUC,eAAeC,KAAK3D,EAAK,WAC9B,OAAViB,GAIEjB,EAAIiB,MAAQA,KAHhBA,EAAQjB,EAAIiB,MACZuC,EAAQ1C,KASA,OAAV0C,EAAgB,CAClB,MAAMrE,EAASvB,KAAKgG,UAClBN,EAAQE,EAAQ,GAChBF,EAAQE,EAAQ,GAChBF,EAAQE,IAEVF,EAAQO,OAAOL,EAAQ,EAAG,EAAGrE,QAE7BkE,GAAW,EAGf,MAAMlE,EAASmE,EAAQ,GACjBQ,EAAMlG,KAAKkG,IAAI3E,GACrB,OAAO,IAAIb,EAASa,EAAOG,UAAYwE,EAAK3E,EAAOI,YAAcuE,GAEjE,OAAO,IAAIxF,EAAS,EAAG,KAI7ByF,QAAS,CACP,cACEnG,KAAKiF,UAAUlC,KAAK,IAAIrC,GACxBV,KAAKkF,UAAUnC,KAAK,IAAI/B,IAE1B,UAAUoF,EAAOC,EAAQxB,GACvB,OAAQA,EAAS1B,MACf,KAAKnC,EAASuC,UAAUE,KACtB,OAAOzD,KAAKsG,IAAIF,EAAOC,GAEzB,KAAKrF,EAASuC,UAAUC,MACtB,OAAOxD,KAAKuG,SAASH,EAAOC,GAE9B,KAAKrF,EAASuC,UAAUI,OACtB,OAAO3D,KAAKwG,OAAOJ,EAAOC,GAE5B,KAAKrF,EAASuC,UAAUG,SACtB,OAAO1D,KAAKyG,SAASL,EAAOC,KAGlC,IAAID,EAAOC,GACT,GAAID,EAAMzE,cAAgB0E,EAAO1E,YAC/B,OAAO,IAAIjB,EACT0F,EAAM1E,UAAY2E,EAAO3E,UACzB0E,EAAMzE,aAEH,CACL,MAAM+E,EAAS,IAAIhG,EACjB0F,EAAM1E,UAAY2E,EAAO1E,YACzByE,EAAMzE,YAAc0E,EAAO1E,aAEvBgF,EAAU,IAAIjG,EAClB2F,EAAO3E,UAAY0E,EAAMzE,YACzB0E,EAAO1E,YAAcyE,EAAMzE,aAE7B,OAAO,IAAIjB,EACTgG,EAAOhF,UAAYiF,EAAQjF,UAC3BgF,EAAO/E,eAIb,SAASyE,EAAOC,GACd,GAAID,EAAMzE,cAAgB0E,EAAO1E,YAC/B,OAAO,IAAIjB,EACT0F,EAAM1E,UAAY2E,EAAO3E,UACzB0E,EAAMzE,aAEH,CACL,MAAM+E,EAAS,IAAIhG,EACjB0F,EAAM1E,UAAY2E,EAAO1E,YACzByE,EAAMzE,YAAc0E,EAAO1E,aAEvBgF,EAAU,IAAIjG,EAClB2F,EAAO3E,UAAY0E,EAAMzE,YACzB0E,EAAO1E,YAAcyE,EAAMzE,aAE7B,OAAO,IAAIjB,EACTgG,EAAOhF,UAAYiF,EAAQjF,UAC3BgF,EAAO/E,eAIb,OAAOyE,EAAOC,GACZ,OAAO,IAAI3F,EACT0F,EAAM1E,UAAY2E,EAAO1E,YACzByE,EAAMzE,YAAc0E,EAAO3E,YAG/B,SAAS0E,EAAOC,GACd,OAAO,IAAI3F,EACT0F,EAAM1E,UAAY2E,EAAO3E,UACzB0E,EAAMzE,YAAc0E,EAAO1E,cAG/B,IAAIwC,GACF,IAAIyC,EAAIzC,EAASzC,UACbmF,EAAI1C,EAASxC,YAGjB,GAFAiF,EAAIE,KAAKC,IAAIH,GACbC,EAAIC,KAAKC,IAAIF,GACTA,EAAID,EAAG,CACT,MAAMI,EAAOJ,EACbA,EAAIC,EACJA,EAAIG,EAGN,MAAO,EAAM,CACX,GAAU,IAANH,EAAS,OAAOD,EAEpB,GADAA,GAAKC,EACK,IAAND,EAAS,OAAOC,EACpBA,GAAKD,IAGT,gBAAgBzC,EAAU8C,EAAOC,GAC/BlH,KAAKmH,KAAKhD,EAAU8C,EAAOC,EAAME,OAAOC,OACxClD,EAASlB,eAEX,gBAAgB4B,EAAUqC,GACxBlH,KAAKmH,KAAKtC,EAAU,OAAQqC,EAAME,OAAOC,UCvM8I,ICQzL,G,UAAY,eACd,EACAvH,EACA2B,GACA,EACA,KACA,WACA,OAIa,e,sECnBf,yBAAiiB,EAAG,G","file":"js/calc.90731670.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FractionComponent.vue?vue&type=style&index=0&id=a97dac22&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FractionComponent.vue?vue&type=style&index=0&id=a97dac22&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OperatorComponent.vue?vue&type=style&index=0&id=62bc0865&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OperatorComponent.vue?vue&type=style&index=0&id=62bc0865&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"grid\"},[_vm._l((_vm.expressionMembers),function(item){return _c('div',{key:item.id,staticClass:\"grid__item\"},[(_vm.Fraction.isFraction(item))?_c('FractionComponent',{attrs:{\"fraction\":item},on:{\"input\":_vm.onFractionInput}}):_vm._e(),(_vm.Operator.isOperator(item))?_c('OperatorComponent',{attrs:{\"operator\":item,\"operator-types\":_vm.OPERATOR_TYPES},on:{\"input\":function($event){return _vm.onOperatorInput(item, $event)}}}):_vm._e()],1)}),_c('div',{staticClass:\"grid__item\"},[_c('div',{staticStyle:{\"display\":\"flex\",\"align-items\":\"center\"}},[_c('div',{staticStyle:{\"padding-right\":\"10px\"}},[_vm._v(\" = \")]),_c('div',[_c('FractionComponent',{attrs:{\"fraction\":_vm.result,\"readonly\":\"\"}})],1)])])],2),_c('button',{on:{\"click\":_vm.addFraction}},[_vm._v(\"ADD FRACTION\")])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export class Fraction {\n  constructor(numerator = null, denominator = null) {\n    this.id = Fraction._id();\n    this._numerator = numerator;\n    this._denominator = denominator;\n    this.errors = [];\n    this.pattern = /^-?[0-9]+$/;\n  }\n\n  static isFraction(object) {\n    return object.__proto__.constructor === Fraction;\n  }\n\n  get numerator() {\n    if (this._numerator === null || this._numerator === \"\") return \"\";\n    // return parseInt(this._numerator, 10);\n    // return +this._numerator;\n    return this._numerator;\n  }\n\n  get numericNumerator() {\n    return +this._numerator;\n  }\n\n  set numerator(val) {\n    this._numerator = val;\n  }\n\n  get denominator() {\n    if (this._denominator === null || this._denominator === \"\") return \"\";\n    // return parseInt(this._denominator, 10);\n    // return +this._denominator;\n    return this._denominator;\n  }\n\n  get numericDenominator() {\n    return +this._denominator;\n  }\n\n  set denominator(val) {\n    this._denominator = val;\n  }\n\n  isNotEmpty() {\n    return !!(this._numerator && this._denominator);\n  }\n\n  validateInput() {\n    return (\n      this.isNotEmpty() &&\n      !(\n        !this.pattern.test(this._numerator) ||\n        !this.pattern.test(this._denominator)\n      )\n    );\n  }\n\n  isValidNumericValue() {\n    return (\n      !isNaN(this.numericNumerator) &&\n      !isNaN(this.numericDenominator) &&\n      !(\n        this.numericNumerator > Number.MAX_SAFE_INTEGER ||\n        this.numericDenominator > Number.MAX_SAFE_INTEGER ||\n        this.numericNumerator < Number.MIN_SAFE_INTEGER ||\n        this.numericDenominator < Number.MIN_SAFE_INTEGER\n      )\n    );\n  }\n\n  checkErrors() {\n    this.clearErrors();\n    if (this.isNotEmpty() && !this.validateInput()) {\n      this.errors.push(\n        \"Некорректный формат данных. Разрешены только натуральные числа\"\n      );\n      return false;\n    }\n    if (!this.isValidNumericValue()) {\n      this.errors.push(\n        `Неподдерживаемое число. Возможные значения лежат в диапазоне [${Number.MIN_SAFE_INTEGER} - ${Number.MAX_SAFE_INTEGER}]`\n      );\n      return false;\n    }\n    return true;\n  }\n\n  clearErrors() {\n    this.errors = [];\n  }\n\n  validate() {\n    return (\n      this.validateInput() && this.isValidNumericValue() && this.checkErrors()\n    );\n  }\n}\n\nlet i = 0;\nFraction._id = () => i++;\n","export class Operator {\n  constructor(type = \"\") {\n    this.id = Operator._id();\n    this._type = type;\n    this.order = Operator.ORDERS[type];\n  }\n\n  static isOperator(object) {\n    return object.__proto__.constructor === Operator;\n  }\n\n  get type() {\n    return this._type;\n  }\n\n  set type(val) {\n    this._type = val;\n    this.order = Operator.ORDERS[val];\n  }\n}\n\nlet i = -1;\nOperator._id = () => i--;\n\nconst OPERATORS = {\n  MINUS: \"-\",\n  PLUS: \"+\",\n  MULTIPLY: \"*\",\n  DIVIDE: \"/\"\n};\nconst ORDERS = {\n  [OPERATORS.MINUS]: 2,\n  [OPERATORS.PLUS]: 2,\n  [OPERATORS.MULTIPLY]: 1,\n  [OPERATORS.DIVIDE]: 1\n};\nOperator.TYPES = Object.values(OPERATORS);\nOperator.OPERATORS = OPERATORS;\nOperator.ORDERS = ORDERS;\n","var render = function (_h,_vm) {var _c=_vm._c;return _c('div',{staticClass:\"fractionComponent\"},[_c('div',[_c('input',_vm._g({attrs:{\"readonly\":_vm.props.readonly,\"type\":\"number\"},domProps:{\"value\":_vm.props.fraction.numerator}},Object.assign({}, _vm.listeners,\n        {input: _vm.listeners.input\n          ? _vm.listeners.input.bind(this, _vm.props.fraction, 'numerator')\n          : function () {}})))]),_c('hr'),_c('div',[_c('input',_vm._g({attrs:{\"readonly\":_vm.props.readonly,\"type\":\"number\"},domProps:{\"value\":_vm.props.fraction.denominator}},Object.assign({}, _vm.listeners,\n        {input: _vm.listeners.input\n          ? _vm.listeners.input.bind(this, _vm.props.fraction, 'denominator')\n          : function () {}})))]),_c('div',_vm._l((_vm.props.fraction.errors),function(error){return _c('div',{key:error,staticStyle:{\"color\":\"red\",\"font-size\":\"0.5em\"}},[_vm._v(\" \"+_vm._s(error)+\" \")])}),0)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template functional>\n  <div class=\"fractionComponent\">\n    <div>\n      <input\n        :readonly=\"props.readonly\"\n        type=\"number\"\n        v-on=\"{\n          ...listeners,\n          input: listeners.input\n            ? listeners.input.bind(this, props.fraction, 'numerator')\n            : () => {}\n        }\"\n        :value=\"props.fraction.numerator\"\n      />\n    </div>\n    <hr />\n    <div>\n      <input\n        :readonly=\"props.readonly\"\n        type=\"number\"\n        v-on=\"{\n          ...listeners,\n          input: listeners.input\n            ? listeners.input.bind(this, props.fraction, 'denominator')\n            : () => {}\n        }\"\n        :value=\"props.fraction.denominator\"\n      />\n    </div>\n    <div>\n      <div\n        v-for=\"error in props.fraction.errors\"\n        :key=\"error\"\n        style=\"color: red; font-size: 0.5em\"\n      >\n        {{ error }}\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"FractionComponent\",\n  functional: true\n};\n</script>\n\n<style scoped>\n.fractionComponent {\n  width: 5em;\n  line-height: 1.5;\n}\ninput {\n  width: 100%;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FractionComponent.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FractionComponent.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FractionComponent.vue?vue&type=template&id=a97dac22&scoped=true&functional=true&\"\nimport script from \"./FractionComponent.vue?vue&type=script&lang=js&\"\nexport * from \"./FractionComponent.vue?vue&type=script&lang=js&\"\nimport style0 from \"./FractionComponent.vue?vue&type=style&index=0&id=a97dac22&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  true,\n  null,\n  \"a97dac22\",\n  null\n  \n)\n\nexport default component.exports","var render = function (_h,_vm) {var _c=_vm._c;return _c('div',[_c('select',_vm._g({domProps:{\"value\":_vm.props.operator.type}},_vm.listeners),[_c('option',{attrs:{\"value\":\"\"}},[_vm._v(\"Chose an operator\")]),_vm._l((_vm.props.operatorTypes),function(operator){return _c('option',{key:operator,domProps:{\"value\":operator}},[_vm._v(_vm._s(operator))])})],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template functional>\n  <div>\n    <select v-on=\"listeners\" :value=\"props.operator.type\">\n      <option value=\"\">Chose an operator</option>\n      <option\n        :value=\"operator\"\n        v-for=\"operator in props.operatorTypes\"\n        :key=\"operator\"\n        >{{ operator }}</option\n      >\n    </select>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"OperatorComponent\",\n  functional: true\n};\n</script>\n\n<style scoped>\nselect {\n  width: 5em;\n  line-height: 1.5em;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OperatorComponent.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OperatorComponent.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./OperatorComponent.vue?vue&type=template&id=62bc0865&scoped=true&functional=true&\"\nimport script from \"./OperatorComponent.vue?vue&type=script&lang=js&\"\nexport * from \"./OperatorComponent.vue?vue&type=script&lang=js&\"\nimport style0 from \"./OperatorComponent.vue?vue&type=style&index=0&id=62bc0865&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  true,\n  null,\n  \"62bc0865\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div>\n    <div class=\"grid\">\n      <div v-for=\"item in expressionMembers\" :key=\"item.id\" class=\"grid__item\">\n        <FractionComponent\n          v-if=\"Fraction.isFraction(item)\"\n          :fraction=\"item\"\n          @input=\"onFractionInput\"\n        />\n        <OperatorComponent\n          v-if=\"Operator.isOperator(item)\"\n          :operator=\"item\"\n          :operator-types=\"OPERATOR_TYPES\"\n          @input=\"onOperatorInput(item, $event)\"\n        />\n      </div>\n      <div class=\"grid__item\">\n        <div style=\"display: flex; align-items: center;\">\n          <div style=\"padding-right: 10px;\">\n            =\n          </div>\n          <div>\n            <FractionComponent :fraction=\"result\" readonly />\n          </div>\n        </div>\n      </div>\n    </div>\n    <button @click=\"addFraction\">ADD FRACTION</button>\n  </div>\n</template>\n\n<script>\nimport { Fraction } from \"../factories/Fraction\";\nimport { Operator } from \"../factories/Operator\";\nimport FractionComponent from \"../components/FractionComponent\";\nimport OperatorComponent from \"../components/OperatorComponent\";\n\nexport default {\n  name: \"Calc\",\n  components: { OperatorComponent, FractionComponent },\n  data() {\n    return {\n      fractions: [new Fraction(), new Fraction()],\n      operators: [new Operator(Operator.OPERATORS.MULTIPLY)],\n      OPERATOR_TYPES: Operator.TYPES,\n      Fraction,\n      Operator\n    };\n  },\n  computed: {\n    expressionMembers() {\n      const result = [];\n      this.fractions.forEach((val, i, arr) => {\n        result.push(val);\n        if (arr.length - 1 !== i) {\n          result.push(this.operators[i]);\n        }\n      });\n      return result;\n    },\n    result() {\n      if (\n        this.fractions.every(val => val.validate()) &&\n        this.operators.every(({ type }) => type)\n      ) {\n        let finished = false;\n        const members = [...this.expressionMembers];\n        while (!finished) {\n          let order = null;\n          let index = null;\n          members.forEach((val, i) => {\n            if (Object.prototype.hasOwnProperty.call(val, \"order\")) {\n              if (order === null) {\n                order = val.order;\n                index = i;\n              } else {\n                if (val.order < order) {\n                  order = val.order;\n                  index = i;\n                }\n              }\n            }\n          });\n          if (index !== null) {\n            const result = this.calculate(\n              members[index - 1],\n              members[index + 1],\n              members[index]\n            );\n            members.splice(index - 1, 3, result);\n          } else {\n            finished = true;\n          }\n        }\n        const result = members[0];\n        const gcd = this.gcd(result);\n        return new Fraction(result.numerator / gcd, result.denominator / gcd);\n      } else {\n        return new Fraction(0, 0);\n      }\n    }\n  },\n  methods: {\n    addFraction() {\n      this.fractions.push(new Fraction());\n      this.operators.push(new Operator());\n    },\n    calculate(first, second, operator) {\n      switch (operator.type) {\n        case Operator.OPERATORS.PLUS:\n          return this.add(first, second);\n\n        case Operator.OPERATORS.MINUS:\n          return this.subtract(first, second);\n\n        case Operator.OPERATORS.DIVIDE:\n          return this.divide(first, second);\n\n        case Operator.OPERATORS.MULTIPLY:\n          return this.multiply(first, second);\n      }\n    },\n    add(first, second) {\n      if (first.denominator === second.denominator) {\n        return new Fraction(\n          first.numerator + second.numerator,\n          first.denominator\n        );\n      } else {\n        const _first = new Fraction(\n          first.numerator * second.denominator,\n          first.denominator * second.denominator\n        );\n        const _second = new Fraction(\n          second.numerator * first.denominator,\n          second.denominator * first.denominator\n        );\n        return new Fraction(\n          _first.numerator + _second.numerator,\n          _first.denominator\n        );\n      }\n    },\n    subtract(first, second) {\n      if (first.denominator === second.denominator) {\n        return new Fraction(\n          first.numerator - second.numerator,\n          first.denominator\n        );\n      } else {\n        const _first = new Fraction(\n          first.numerator * second.denominator,\n          first.denominator * second.denominator\n        );\n        const _second = new Fraction(\n          second.numerator * first.denominator,\n          second.denominator * first.denominator\n        );\n        return new Fraction(\n          _first.numerator - _second.numerator,\n          _first.denominator\n        );\n      }\n    },\n    divide(first, second) {\n      return new Fraction(\n        first.numerator * second.denominator,\n        first.denominator * second.numerator\n      );\n    },\n    multiply(first, second) {\n      return new Fraction(\n        first.numerator * second.numerator,\n        first.denominator * second.denominator\n      );\n    },\n    gcd(fraction) {\n      let a = fraction.numerator;\n      let b = fraction.denominator;\n      a = Math.abs(a);\n      b = Math.abs(b);\n      if (b > a) {\n        const temp = a;\n        a = b;\n        b = temp;\n      }\n      // eslint-disable-next-line\n      while (true) {\n        if (b === 0) return a;\n        a %= b;\n        if (a === 0) return b;\n        b %= a;\n      }\n    },\n    onFractionInput(fraction, field, event) {\n      this.$set(fraction, field, event.target.value);\n      fraction.checkErrors();\n    },\n    onOperatorInput(operator, event) {\n      this.$set(operator, \"type\", event.target.value);\n    }\n  }\n};\n</script>\n\n<style scoped lang=\"scss\">\ninput {\n  border: 1px solid black;\n}\n\n.grid {\n  $gutter: 10px;\n  display: flex;\n  flex-wrap: wrap;\n  align-items: center;\n  margin-left: -$gutter;\n  margin-right: -$gutter;\n  margin-top: -$gutter;\n  padding: 10px;\n\n  &__item {\n    padding-left: $gutter / 2;\n    padding-right: $gutter / 2;\n    padding-top: $gutter;\n    /*width: 33%;*/\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Calc.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Calc.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Calc.vue?vue&type=template&id=71a2a886&scoped=true&\"\nimport script from \"./Calc.vue?vue&type=script&lang=js&\"\nexport * from \"./Calc.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Calc.vue?vue&type=style&index=0&id=71a2a886&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"71a2a886\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Calc.vue?vue&type=style&index=0&id=71a2a886&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Calc.vue?vue&type=style&index=0&id=71a2a886&scoped=true&lang=scss&\""],"sourceRoot":""}